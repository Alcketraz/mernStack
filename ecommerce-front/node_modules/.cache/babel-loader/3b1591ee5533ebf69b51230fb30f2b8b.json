{"ast":null,"code":"import _slicedToArray from \"D:\\\\FINAL_YEAR_PROJECT\\\\ecommerce-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\FINAL_YEAR_PROJECT\\\\ecommerce-front\\\\src\\\\admin\\\\AddCategory.js\";\nimport React, { useState } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\nimport { addCategory, createCategory } from \"./apiAdmin\";\n\nconst AddCategory = () => {\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        name = _useState2[0],\n        setName = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        error = _useState4[0],\n        setError = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        success = _useState6[0],\n        setSuccess = _useState6[1]; // destructure user and token from localstorage\n\n\n  const _isAuthenticated = isAuthenticated(),\n        user = _isAuthenticated.user,\n        token = _isAuthenticated.token;\n\n  const handleChange = e => {\n    setError(\"\");\n    setName(e.target.value);\n  };\n\n  const clickSubmit = e => {\n    e.preventDefault();\n    setError(\"\");\n    setSuccess(false); // make request to api to create category\n\n    createCategory(user._id, token, {\n      name\n    }).then(data => {\n      if (data.error) {\n        setError(data.error);\n      }\n    });\n  };\n\n  const newCategoryFom = () => React.createElement(\"form\", {\n    onSubmit: clickSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"text-muted\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    onChange: handleChange,\n    value: name,\n    autoFocus: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: \"btn btn-outline-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"Create Category\"));\n\n  return React.createElement(Layout, {\n    title: \"Add a new category\",\n    description: \"G'day \".concat(name, \", ready to add a new category?\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-8 offset-md-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, newCategoryFom())));\n};\n\nexport default AddCategory;","map":{"version":3,"sources":["D:\\FINAL_YEAR_PROJECT\\ecommerce-front\\src\\admin\\AddCategory.js"],"names":["React","useState","Layout","isAuthenticated","Link","addCategory","createCategory","AddCategory","name","setName","error","setError","success","setSuccess","user","token","handleChange","e","target","value","clickSubmit","preventDefault","_id","then","data","newCategoryFom"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AACA,SAASC,eAAT,QAAgC,SAAhC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,WAAT,EAAsBC,cAAtB,QAA4C,YAA5C;;AAEA,MAAMC,WAAW,GAAG,MAAM;AAAA,oBACAN,QAAQ,CAAC,EAAD,CADR;AAAA;AAAA,QACjBO,IADiB;AAAA,QACXC,OADW;;AAAA,qBAEER,QAAQ,CAAC,KAAD,CAFV;AAAA;AAAA,QAEjBS,KAFiB;AAAA,QAEVC,QAFU;;AAAA,qBAGMV,QAAQ,CAAC,KAAD,CAHd;AAAA;AAAA,QAGjBW,OAHiB;AAAA,QAGRC,UAHQ,kBAKxB;;;AALwB,2BAMAV,eAAe,EANf;AAAA,QAMhBW,IANgB,oBAMhBA,IANgB;AAAA,QAMVC,KANU,oBAMVA,KANU;;AAQxB,QAAMC,YAAY,GAAIC,CAAD,IAAO;AAC1BN,IAAAA,QAAQ,CAAC,EAAD,CAAR;AACAF,IAAAA,OAAO,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP;AACD,GAHD;;AAKA,QAAMC,WAAW,GAAIH,CAAD,IAAO;AACzBA,IAAAA,CAAC,CAACI,cAAF;AACAV,IAAAA,QAAQ,CAAC,EAAD,CAAR;AACAE,IAAAA,UAAU,CAAC,KAAD,CAAV,CAHyB,CAIzB;;AACAP,IAAAA,cAAc,CAACQ,IAAI,CAACQ,GAAN,EAAWP,KAAX,EAAkB;AAAEP,MAAAA;AAAF,KAAlB,CAAd,CAA0Ce,IAA1C,CAAgDC,IAAD,IAAU;AACvD,UAAIA,IAAI,CAACd,KAAT,EAAgB;AACdC,QAAAA,QAAQ,CAACa,IAAI,CAACd,KAAN,CAAR;AACD;AACF,KAJD;AAKD,GAVD;;AAYA,QAAMe,cAAc,GAAG,MACrB;AAAM,IAAA,QAAQ,EAAEL,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,SAAS,EAAC,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAEE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,SAAS,EAAC,cAFZ;AAGE,IAAA,QAAQ,EAAEJ,YAHZ;AAIE,IAAA,KAAK,EAAER,IAJT;AAKE,IAAA,SAAS,MALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,EAWE;AAAQ,IAAA,SAAS,EAAC,yBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAXF,CADF;;AAgBA,SACE,oBAAC,MAAD;AACE,IAAA,KAAK,EAAC,oBADR;AAEE,IAAA,WAAW,kBAAWA,IAAX,mCAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAuCiB,cAAc,EAArD,CADF,CAJF,CADF;AAUD,CAnDD;;AAqDA,eAAelB,WAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { addCategory, createCategory } from \"./apiAdmin\";\r\n\r\nconst AddCategory = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [error, setError] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  // destructure user and token from localstorage\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const handleChange = (e) => {\r\n    setError(\"\");\r\n    setName(e.target.value);\r\n  };\r\n\r\n  const clickSubmit = (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(false);\r\n    // make request to api to create category\r\n    createCategory(user._id, token, { name }).then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      }\r\n    });\r\n  };\r\n\r\n  const newCategoryFom = () => (\r\n    <form onSubmit={clickSubmit}>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Name</label>\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          onChange={handleChange}\r\n          value={name}\r\n          autoFocus\r\n        />\r\n      </div>\r\n      <button className=\"btn btn-outline-primary\">Create Category</button>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Add a new category\"\r\n      description={`G'day ${name}, ready to add a new category?`}\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-md-8 offset-md-2\">{newCategoryFom()}</div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AddCategory;\r\n"]},"metadata":{},"sourceType":"module"}